## 测什么

### 测试类型

- 端到端测试
- 集成测试
- 快照测试
- 单元测试

### 测试的目的

- 提高信心（增加新功能或改动已有功能）
- 提升代码质量（当编写代码时意识到代码很难进行测试，就意味着该对代码进行重构了）
- 更好的文档（新人接手代码时可以通过看单元测试作为理解代码的文档）

### 辨别要测什么

#### 组件协议

实例：一个组件有min和max属性，并且会根据这两个属性生成一个随机数渲染到DOM。则组件协议内容就是：我将接收两个属性值，并将其进行处理生成一个随机数

从组件协议衍变而来的是`输入`和`输出`，如下

输入

- 组件数据
- 组件属性
- UI（比如用户点击按钮）
- 生命周期函数
- vuex store
- 路由参数

输出

- 渲染到DOM的结果
- 外部的函数调用
- 由组件触发的事件
- 路由变更
- vuex store的改变
- 和子组件的链接（例如改变子组件）

#### 阶段总结

- 只需关心组件的`输入`和`输出`，无需关心组件`内部逻辑`
- 只需关心组件`能否`产出期望的结果，无需关心组件`如何`产出结果

#### 示例

```js
<template>
<div>
	<button v-show="loggedIn">Logout</button>
</div>
</template>

<script>
export default {
	data() {
		return {
			loggedIn: false
		}
	}
}
</script>
```

输入：loggedIn
输出：button是否显示

### 不测什么

- 组件实现细节（假设组件能正常工作）
- 框架本身（Vue/Vue Router/Vuex）
- 第三方库（高质量第三方库应具备自己的单元测试）